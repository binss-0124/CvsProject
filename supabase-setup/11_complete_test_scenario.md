# 🧪 완전한 편의점 관리 시스템 테스트 시나리오

## 📋 **테스트 개요**

이 문서는 다른 개발자들이 `00_setup_all_advanced.sql`로 데이터베이스를 설정한 후, 모든 기능을 체계적으로 테스트할 수 있는 완전한 시나리오입니다.

## 🚀 **1단계: 초기 설정**

### **1.1 Supabase 프로젝트 생성**
1. [Supabase](https://supabase.com) 접속
2. "New Project" 클릭
3. 프로젝트 설정:
   - **Name**: `convenience-store-test`
   - **Database Password**: 안전한 비밀번호 설정
   - **Region**: `Asia Pacific (Northeast) - Tokyo`
   - **Pricing Plan**: Free tier

### **1.2 데이터베이스 설정**
1. Supabase Dashboard > SQL Editor
2. "New Query" 클릭
3. `00_setup_all_advanced.sql` 내용을 복사하여 붙여넣기
4. "Run" 클릭
5. 성공 메시지 확인:
   ```
   ✅ 고급 편의점 관리 시스템 설정 완료!
   생성된 테이블 수: 17
   ```

### **1.3 환경 변수 설정**
프로젝트 루트에 `.env` 파일 생성:
```env
VITE_SUPABASE_URL=your_project_url_here
VITE_SUPABASE_ANON_KEY=your_anon_key_here
```

### **1.4 애플리케이션 실행**
```bash
npm run dev
```

## 🎯 **2단계: 계정 생성 테스트**

### **2.1 고객 계정 생성**
1. 애플리케이션 접속
2. "회원가입" 클릭
3. 고객 정보 입력:
   ```
   이메일: customer1@test.com
   비밀번호: test1234
   이름: 테스트 고객1
   역할: 고객
   ```
4. 회원가입 완료 확인
5. 자동으로 `/customer` 페이지로 리다이렉트되는지 확인

### **2.2 점주 계정 생성**
1. 로그아웃
2. "회원가입" 클릭
3. 점주 정보 입력:
   ```
   이메일: shopowner1@test.com
   비밀번호: test1234
   이름: 테스트 점주1
   역할: 점주
   지점명: 테스트 편의점
   지점 주소: 서울시 강남구 테스트로 123
   전화번호: 02-1234-5678
   ```
4. 회원가입 완료 확인
5. 자동으로 `/store` 페이지로 리다이렉트되는지 확인

### **2.3 본사 계정 생성**
1. 로그아웃
2. "회원가입" 클릭
3. 본사 정보 입력:
   ```
   이메일: hq@test.com
   비밀번호: test1234
   이름: 테스트 관리자
   역할: 본사
   ```
4. 회원가입 완료 확인
5. 자동으로 `/headquarters` 페이지로 리다이렉트되는지 확인

## 🏪 **3단계: 점주 기능 테스트**

### **3.1 점주 로그인**
1. `shopowner1@test.com`으로 로그인
2. 점주 대시보드 접속 확인

### **3.2 지점 정보 확인**
1. 대시보드에서 지점 정보 표시 확인
2. 지점명, 주소, 전화번호 등이 올바르게 표시되는지 확인

### **3.3 상품 관리**
1. "상품 관리" 탭 클릭
2. 기본 상품들이 표시되는지 확인:
   - 코카콜라 500ml
   - 농심 신라면 120g
   - 농심 새우깡 90g

### **3.4 재고 관리**
1. "재고 관리" 탭 클릭
2. 상품별 재고 수량 확인
3. 재고 수량 수정 테스트

### **3.5 주문 관리**
1. "주문 관리" 탭 클릭
2. 현재 주문 목록 확인 (초기에는 빈 상태)
3. 주문 상태 변경 기능 확인

## 🛒 **4단계: 고객 기능 테스트**

### **4.1 고객 로그인**
1. `customer1@test.com`으로 로그인
2. 고객 대시보드 접속 확인

### **4.2 지점 선택**
1. "지점 선택" 페이지에서 테스트 편의점 표시 확인
2. 지점 클릭하여 선택

### **4.3 상품 카탈로그**
1. 상품 목록 표시 확인
2. 카테고리별 필터링 테스트
3. 상품 상세 정보 확인

### **4.4 주문 생성**
1. 상품을 장바구니에 추가
2. 주문 정보 입력:
   ```
   주문 유형: 픽업
   픽업 시간: 30분 후
   결제 방법: 카드
   ```
3. 주문 완료
4. 주문 번호 생성 확인

### **4.5 주문 조회**
1. "내 주문" 탭에서 생성된 주문 확인
2. 주문 상태 확인 (pending)
3. 주문 상세 정보 확인

## 🏢 **5단계: 본사 기능 테스트**

### **5.1 본사 로그인**
1. `hq@test.com`으로 로그인
2. 본사 대시보드 접속 확인

### **5.2 전체 통계**
1. 대시보드에서 전체 통계 확인
2. 총 지점 수, 총 주문 수, 총 매출 등 표시 확인

### **5.3 지점 관리**
1. "지점 관리" 탭 클릭
2. 등록된 지점 목록 확인
3. 지점 정보 수정 테스트

### **5.4 상품 관리**
1. "상품 관리" 탭 클릭
2. 전체 상품 목록 확인
3. 새 상품 추가 테스트:
   ```
   상품명: 테스트 상품
   카테고리: 간식
   가격: 1000원
   설명: 테스트용 상품입니다
   ```

### **5.5 사용자 관리**
1. "사용자 관리" 탭 클릭
2. 등록된 사용자 목록 확인
3. 사용자 역할 변경 테스트

## 🔄 **6단계: 통합 워크플로우 테스트**

### **6.1 주문 처리 워크플로우**
1. **고객**: 새 주문 생성
2. **점주**: 주문 확인 및 상태 변경 (pending → confirmed → preparing → ready)
3. **고객**: 주문 상태 변경 확인
4. **점주**: 주문 완료 처리
5. **고객**: 완료된 주문 확인

### **6.2 재고 관리 워크플로우**
1. **점주**: 재고 수량 확인
2. **점주**: 재고 부족 상품 식별
3. **점주**: 공급 요청 생성
4. **본사**: 공급 요청 승인
5. **점주**: 재고 수량 업데이트

### **6.3 매출 분석 워크플로우**
1. **고객**: 여러 주문 생성
2. **점주**: 주문 처리
3. **점주**: 매출 통계 확인
4. **본사**: 전체 매출 통계 확인

## 📊 **7단계: 고급 기능 테스트**

### **7.1 실시간 알림**
1. **고객**: 새 주문 생성
2. **점주**: 실시간으로 새 주문 알림 확인
3. **점주**: 주문 상태 변경
4. **고객**: 실시간으로 상태 변경 알림 확인

### **7.2 매출 분석**
1. **점주**: 일일 매출 요약 확인
2. **점주**: 상품별 매출 분석 확인
3. **본사**: 전체 매출 통계 확인

### **7.3 공급망 관리**
1. **점주**: 공급 요청 생성
2. **본사**: 공급 요청 승인/거부
3. **점주**: 배송 추적 확인

## 🔧 **8단계: 오류 처리 테스트**

### **8.1 권한 오류 테스트**
1. **고객**: 다른 고객의 주문 조회 시도 (실패해야 함)
2. **점주**: 다른 지점의 주문 조회 시도 (실패해야 함)
3. **고객**: 점주 기능 접근 시도 (실패해야 함)

### **8.2 데이터 검증 테스트**
1. **고객**: 음수 수량으로 주문 시도 (실패해야 함)
2. **점주**: 존재하지 않는 상품으로 주문 처리 시도 (실패해야 함)
3. **점주**: 잘못된 주문 상태 변경 시도 (실패해야 함)

## ✅ **9단계: 성능 테스트**

### **9.1 대용량 데이터 테스트**
1. **본사**: 대량의 상품 데이터 추가
2. **점주**: 대량의 주문 처리
3. **고객**: 대량의 주문 생성
4. 응답 시간 및 성능 확인

### **9.2 동시 사용자 테스트**
1. 여러 브라우저에서 동시 접속
2. 동시 주문 생성
3. 동시 주문 처리
4. 데이터 일관성 확인

## 📋 **10단계: 최종 확인 사항**

### **10.1 데이터베이스 확인**
```sql
-- 테이블 생성 확인
SELECT COUNT(*) FROM information_schema.tables 
WHERE table_schema = 'public' AND table_type = 'BASE TABLE';

-- RLS 정책 확인
SELECT COUNT(*) FROM pg_policies WHERE schemaname = 'public';

-- 사용자 데이터 확인
SELECT role, COUNT(*) FROM profiles GROUP BY role;
```

### **10.2 기능 완성도 확인**
- [ ] 모든 역할별 회원가입/로그인
- [ ] 지점 생성 및 관리
- [ ] 상품 관리
- [ ] 주문 생성 및 처리
- [ ] 재고 관리
- [ ] 매출 분석
- [ ] 실시간 알림
- [ ] 권한 관리
- [ ] 오류 처리

## 🎉 **테스트 완료!**

모든 단계를 성공적으로 완료했다면, 편의점 관리 시스템이 정상적으로 작동하고 있습니다!

### **다음 단계:**
1. 실제 데이터로 테스트
2. 추가 기능 개발
3. UI/UX 개선
4. 성능 최적화

---

**💡 팁**: 각 단계에서 문제가 발생하면 브라우저 콘솔과 Supabase 로그를 확인하세요! 